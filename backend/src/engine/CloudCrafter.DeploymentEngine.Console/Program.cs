// See https://aka.ms/new-console-template for more information

using CloudCrafter.DeploymentEngine.Domain.Models;
using CloudCrafter.DeploymentEngine.Remote.Manager;

Console.WriteLine("Hello, World!");

var engineServer = new EngineServerModel()
{
    Username = "root",
    Port = 2222,
    Host = "localhost",
    SshKey =
        "-----BEGIN OPENSSH PRIVATE KEY-----\n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\n-----END OPENSSH PRIVATE KEY-----\n",
};

var manager = new CloudCrafterEngineManager(engineServer);

var client = manager.CreateSshClient();

await client.ConnectAsync();

var result = await client.ExecuteCommandAsync("ls -la");
var patchedResult = await client.ExecuteCommandAsync("whoami");

var anotherResult = await client.ExecuteCommandAsync("docker ps");

Console.WriteLine(result.Result);
Console.WriteLine(anotherResult.Result);
Console.WriteLine(patchedResult.Result);
